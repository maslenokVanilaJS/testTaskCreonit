{"remainingRequest":"C:\\Users\\Tatiana\\Desktop\\np0vn\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Tatiana\\Desktop\\np0vn\\src\\components\\orderForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Tatiana\\Desktop\\np0vn\\src\\components\\orderForm.vue","mtime":1635716890237},{"path":"C:\\Users\\Tatiana\\Desktop\\np0vn\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Tatiana\\Desktop\\np0vn\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Tatiana\\Desktop\\np0vn\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Tatiana\\Desktop\\np0vn\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgbmFtZTonb3JkZXJGb3JtJywNCiAgICAvKioNCiAgICAgKiBAdHlwZWRlZiBPcmRlcg0KICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBuYW1lINC40LzRjw0KICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBhZGRyZXNzINCw0LTRgNC10YHRgSANCiAgICAgKiBAcHJvcGVydHkge3N0cmluZ30gcGhvbmUg0YLQtdC70LXRhNC+0L0NCiAgICAgKiBAcHJvcGVydHkge3N0cmluZ30gZW1haWwg0Y3Qu9C10LrRgtGA0L7QvdC90LDRjyDQv9C+0YfRgtCwDQogICAgICogQHByb3BlcnR5IHtzdHJpbmd9IGNvbW1lbnQg0LrQvtC80LXQvdGC0LDRgNC40LkNCiAgICAgKi8NCg0KICAgIC8qKg0KICAgICAqIEB0eXBlZGVmIFZhbGlkYXRlDQogICAgICogQHByb3BlcnR5IHtib29sZWFufSBpbnZhbGlkTmFtZSDQuNC80Y8NCiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGludmFsaWRBZGRyZXNzINCw0LTRgNC10YHRgSANCiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGludmFsaWRQaG9uZSDRgtC10LvQtdGE0L7QvQ0KICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gaW52YWxpZEVtYWlsINGN0LvQtdC60YLRgNC+0L3QvdCw0Y8g0L/QvtGH0YLQsA0KICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gaW52YWxpZENvbW1lbnQg0LrQvtC80LXQvdGC0LDRgNC40LkNCiAgICAgKi8NCiAgICBkYXRhKCl7DQogICAgICByZXR1cm57DQpvcmRlcjp7DQogIG5hbWU6bnVsbCwNCiAgYWRkcmVzczpudWxsLA0KICBwaG9uZTpudWxsLA0KICBlbWFpbDpudWxsLA0KICBjb21tZW50Om51bGwsDQogIGFjY2Vzc0tleTpudWxsLA0KfSwNCnZhbGlkYXRlOnsNCiAgaW52YWxpZE5hbWU6ZmFsc2UsDQogIGludmFsaWRBZGRyZXNzOmZhbHNlLA0KICBpbnZhbGlkUGhvbmU6ZmFsc2UsDQogIGludmFsaWRFbWFpbDpmYWxzZSwNCiAgaW52YWxpZENvbW1lbnQ6ZmFsc2UsDQogIG5vdEZvdW5kVXNlcjpmYWxzZSwNCn0sDQpFcnJvcnM6ew0KICBuYW1lOm51bGwsDQogIHBob25lOm51bGwsDQogIGFkZHJlc3M6bnVsbCwNCiAgZW1haWw6bnVsbCwNCiAgcXVlcnk6bnVsbCwNCn0sDQogICAgICB9DQogICAgfSwNCiAgICBtZXRob2RzOnsNCiAgICAgIHBvc3RGb3JtRmllbGRzKCl7DQoNCiAgYXhpb3Moew0KICAgbWV0aG9kOidwb3N0JywNCiAgIHVybDonaHR0cHM6Ly92dWUtc3R1ZHkuc2tpbGxib3guY2MvYXBpL29yZGVycycsDQogICBwYXJhbXM6e2FjY2Vzc0tleTp0aGlzLm9yZGVyLmFjY2Vzc0tleX0sDQogICBkYXRhOntuYW1lOnRoaXMub3JkZXIubmFtZSwNCiAgYWRkcmVzczp0aGlzLm9yZGVyLmFkZHJlc3MsDQogIHBob25lOnRoaXMub3JkZXIucGhvbmUsDQogIGVtYWlsOnRoaXMub3JkZXIuZW1haWwsDQogIGNvbW1lbnQ6dGhpcy5vcmRlci5jb21tZW50LH0gDQogIH0pDQogIC50aGVuKHJlc3BvbnNlPT5jb25zb2xlLmxvZyhyZXNwb25zZS5lcnJvciwndGhlbicpKQ0KICAuY2F0Y2goKGVycm9yKT0+ew0KDQogICAgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGEuZXJyb3IucmVxdWVzdCE9bnVsbCkgew0KICAgICAgdGhpcy5FcnJvcnMuZW1haWw9ZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvci5yZXF1ZXN0LmVtYWlsOw0KICB0aGlzLkVycm9ycy5waG9uZT1lcnJvci5yZXNwb25zZS5kYXRhLmVycm9yLnJlcXVlc3QucGhvbmU7DQogIHRoaXMuRXJyb3JzLmFkZHJlc3M9ZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvci5yZXF1ZXN0LmFkZHJlc3M7DQogIHRoaXMuRXJyb3JzLm5hbWU9ZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvci5yZXF1ZXN0Lm5hbWU7DQogICAgfWVsc2V7DQogICAgICAgIHRoaXMuRXJyb3JzLmVtYWlsPW51bGw7DQogIHRoaXMuRXJyb3JzLnBob25lPW51bGw7DQogIHRoaXMuRXJyb3JzLmFkZHJlc3M9bnVsbDsNCiAgdGhpcy5FcnJvcnMubmFtZT1udWxsOw0KICB0aGlzLkVycm9ycy5xdWVyeT1lcnJvci5yZXNwb25zZS5kYXRhLmVycm9yLnF1ZXJ5LnVzZXJBY2Nlc3NLZXk7DQoNCiAgICAgfQ0KICAgICAgY29uc29sZS5sb2codGhpcy5vcmRlci5hY2Nlc3NLZXkpOw0KDQogIH0NCiAgKTsNCg0KDQogICANCiAgDQoNCiB9LA0KIA0KICAgIH0sDQogICAgdXBkYXRlZCgpew0KICAgICh0aGlzLkVycm9ycy5uYW1lIT1udWxsfHwnJ3x8dW5kZWZpbmVkKT90aGlzLnZhbGlkYXRlLmludmFsaWROYW1lPXRydWU6dGhpcy52YWxpZGF0ZS5pbnZhbGlkTmFtZT1mYWxzZTsNCiAgICAodGhpcy5FcnJvcnMuYWRkcmVzcyE9bnVsbHx8Jyd8fHVuZGVmaW5lZCk/dGhpcy52YWxpZGF0ZS5pbnZhbGlkQWRkcmVzcz10cnVlOnRoaXMudmFsaWRhdGUuaW52YWxpZEFkZHJlc3M9ZmFsc2U7DQogICAgKHRoaXMuRXJyb3JzLnBob25lIT1udWxsfHwnJ3x8dW5kZWZpbmVkKT90aGlzLnZhbGlkYXRlLmludmFsaWRQaG9uZT10cnVlOnRoaXMudmFsaWRhdGUuaW52YWxpZFBob25lPWZhbHNlOw0KICAgICh0aGlzLkVycm9ycy5lbWFpbCE9bnVsbHx8Jyd8fHVuZGVmaW5lZCk/dGhpcy52YWxpZGF0ZS5pbnZhbGlkRW1haWw9dHJ1ZTp0aGlzLnZhbGlkYXRlLmludmFsaWRFbWFpbD1mYWxzZTsNCiAgICAodGhpcy5FcnJvcnMucXVlcnkhPW51bGx8fCcnfHx1bmRlZmluZWQpP3RoaXMudmFsaWRhdGUubm90Rm91bmRVc2VyPXRydWU6dGhpcy52YWxpZGF0ZS5ub3RGb3VuZFVzZXI9ZmFsc2U7DQoNCiAgICB9LA0KICAgIA0KICAgIG1vdW50ZWQoKXsNCmF4aW9zDQouZ2V0KCJodHRwczovL3Z1ZS1zdHVkeS5za2lsbGJveC5jYy9hcGkvdXNlcnMvYWNjZXNzS2V5IikNCi50aGVuKHJlc3BvbnNlPT50aGlzLm9yZGVyLmFjY2Vzc0tleT1yZXNwb25zZS5kYXRhLmFjY2Vzc0tleSANCik7DQogICAgfQ0KfQ0K"},{"version":3,"sources":["orderForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;AAMA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"orderForm.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n   <form @submit.prevent=\"postFormFields\">\r\n        <div class=\"form-group\">\r\n          <label class=\"d-block\">\r\n            <div class=\"mb-2\">Представьтесь</div>\r\n            <input type=\"text\"   v-model.trim=\"order.name\" class=\"form-control \" :class=\"{'is-invalid':validate.invalidName||validate.notFoundUser}\" />\r\n                        <div class=\"invalid-feedback\">{{this.Errors.name||this.Errors.query}}</div>\r\n\r\n          </label>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label class=\"d-block\">\r\n            <div class=\"mb-2\">Адрес доставки</div>\r\n            <input type=\"text\" v-model.trim=\"order.address\" class=\"form-control\" :class=\"{'is-invalid':validate.invalidAddress}\" />\r\n                                    <div class=\"invalid-feedback\">{{this.Errors.address}}</div>\r\n\r\n          </label>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label class=\"d-block\">\r\n            <div class=\"mb-2\">Телефон</div>\r\n            <input   maxlength=\"16\"  v-model.trim=\"order.phone\" :class=\"{'is-invalid':validate.invalidPhone}\" class=\"form-control\" />\r\n                                             <div class=\"invalid-feedback\">{{this.Errors.phone}}</div>\r\n\r\n          </label>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label class=\"d-block\">\r\n            <div class=\"mb-2\">Эл. почта</div>\r\n            <input   v-model=\"order.email\" class=\"form-control\" :class=\"{'is-invalid':validate.invalidEmail}\" />\r\n            <div class=\"invalid-feedback\">{{this.Errors.email}}</div>\r\n\r\n          </label>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label class=\"d-block\">\r\n            <div class=\"mb-2\">Комментарий</div>\r\n            <textarea class=\"form-control\" v-model.trim=\"order.comment\"></textarea>\r\n          </label>\r\n        </div>\r\n        <button type=\"submit\"  class=\"btn btn-primary\">Отправить</button>\r\n      </form> \r\n      \r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n    name:'orderForm',\r\n    /**\r\n     * @typedef Order\r\n     * @property {string} name имя\r\n     * @property {string} address адресс \r\n     * @property {string} phone телефон\r\n     * @property {string} email электронная почта\r\n     * @property {string} comment коментарий\r\n     */\r\n\r\n    /**\r\n     * @typedef Validate\r\n     * @property {boolean} invalidName имя\r\n     * @property {boolean} invalidAddress адресс \r\n     * @property {boolean} invalidPhone телефон\r\n     * @property {boolean} invalidEmail электронная почта\r\n     * @property {boolean} invalidComment коментарий\r\n     */\r\n    data(){\r\n      return{\r\norder:{\r\n  name:null,\r\n  address:null,\r\n  phone:null,\r\n  email:null,\r\n  comment:null,\r\n  accessKey:null,\r\n},\r\nvalidate:{\r\n  invalidName:false,\r\n  invalidAddress:false,\r\n  invalidPhone:false,\r\n  invalidEmail:false,\r\n  invalidComment:false,\r\n  notFoundUser:false,\r\n},\r\nErrors:{\r\n  name:null,\r\n  phone:null,\r\n  address:null,\r\n  email:null,\r\n  query:null,\r\n},\r\n      }\r\n    },\r\n    methods:{\r\n      postFormFields(){\r\n\r\n  axios({\r\n   method:'post',\r\n   url:'https://vue-study.skillbox.cc/api/orders',\r\n   params:{accessKey:this.order.accessKey},\r\n   data:{name:this.order.name,\r\n  address:this.order.address,\r\n  phone:this.order.phone,\r\n  email:this.order.email,\r\n  comment:this.order.comment,} \r\n  })\r\n  .then(response=>console.log(response.error,'then'))\r\n  .catch((error)=>{\r\n\r\n    if (error.response.data.error.request!=null) {\r\n      this.Errors.email=error.response.data.error.request.email;\r\n  this.Errors.phone=error.response.data.error.request.phone;\r\n  this.Errors.address=error.response.data.error.request.address;\r\n  this.Errors.name=error.response.data.error.request.name;\r\n    }else{\r\n        this.Errors.email=null;\r\n  this.Errors.phone=null;\r\n  this.Errors.address=null;\r\n  this.Errors.name=null;\r\n  this.Errors.query=error.response.data.error.query.userAccessKey;\r\n\r\n     }\r\n      console.log(this.order.accessKey);\r\n\r\n  }\r\n  );\r\n\r\n\r\n   \r\n  \r\n\r\n },\r\n \r\n    },\r\n    updated(){\r\n    (this.Errors.name!=null||''||undefined)?this.validate.invalidName=true:this.validate.invalidName=false;\r\n    (this.Errors.address!=null||''||undefined)?this.validate.invalidAddress=true:this.validate.invalidAddress=false;\r\n    (this.Errors.phone!=null||''||undefined)?this.validate.invalidPhone=true:this.validate.invalidPhone=false;\r\n    (this.Errors.email!=null||''||undefined)?this.validate.invalidEmail=true:this.validate.invalidEmail=false;\r\n    (this.Errors.query!=null||''||undefined)?this.validate.notFoundUser=true:this.validate.notFoundUser=false;\r\n\r\n    },\r\n    \r\n    mounted(){\r\naxios\r\n.get(\"https://vue-study.skillbox.cc/api/users/accessKey\")\r\n.then(response=>this.order.accessKey=response.data.accessKey \r\n);\r\n    }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>"]}]}